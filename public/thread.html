<div class="container" data-ng-init="loadMessages()">
    <section class="hero is-warning">
        <div class="hero-body">
            <div class="container has-text-centered">
                <h1 class="title">{{ currentTopic.name }}</h1>
                <h2 class="subtitle">By: {{currentAuthor}}</h2>
            </div>
        </div>
    </section>
    <br>

    <div class="card" ng-repeat="message in currentMessages" id="thread">
        <div class="card-content">
            <p class="subtitle"><strong>{{message.Author.name}}</strong><small id="date"> {{message.createdAt | date : 'medium'}}</small></p>
            <p class="content">{{message.body}}</p>

        </div>
    </div>
    <br>
    <div class="field" ng-show="currentUser">
        <label class="label">New message from {{currentUser}}</label>
        <div class="control">
            <textarea class="textarea" placeholder="New message" ng-model="currentMessage" ng-keypress="($event.charCode==13) ? postNewMessage() : return"></textarea>
        </div>
    </div>
    <div class="field" ng-show="currentUser">
        <div class="control">
            <button class="button is-primary" ng-click="postNewMessage()" type="submit">Post</button>

        </div>
    </div>
</div>